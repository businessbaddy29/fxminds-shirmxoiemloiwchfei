<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Weight Slip Print - Dot Matrix Ready</title>
<style>
  body {
    font-family: "Courier New", monospace;
    background: #f8f8f8;
    margin: 0;
    padding: 0;
  }

  /* Form section (visible before print) */
  #formSection {
    padding: 20px;
    max-width: 600px;
    margin: 0 auto;
    background: white;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }

  label {
    display: block;
    margin-top: 10px;
    font-weight: 600;
  }
  input {
    width: 100%;
    padding: 5px;
    font-family: monospace;
  }
  button {
    margin-top: 15px;
    padding: 10px 15px;
    font-weight: bold;
    cursor: pointer;
    border: none;
    border-radius: 4px;
    background: #007bff;
    color: white;
  }
  button:hover { background: #0056b3; }

  /* Slip print area */
  #slipOutput {
    display: none;
    background: white;
    padding: 5mm;
    width: 210mm; /* approx 8.27 inch */
    min-height: 148mm; /* half A4 (A5 size) */
    box-sizing: border-box;
    color: black;
    white-space: pre;
    margin: 0 auto;
  }

  /* PRINT SETTINGS for Dot Matrix */
  @page {
    size: A5 portrait;   /* half A4 paper size */
    margin: 3mm;
  }

  @media print {
    body * {
      visibility: hidden;
    }
    #slipOutput, #slipOutput * {
      visibility: visible;
    }
    #slipOutput {
      display: block;
      margin: 0;
      padding: 5mm;
      width: 210mm;
      background: white;
      color: black;
      box-shadow: none;
      border: none;
    }
  }
</style>
</head>
<body>

<div id="formSection">
  <h2>Weight Slip Entry</h2>
  <label>Firm Name: <input type="text" id="firmName" value="Modi Firm"></label>
  <label>Firm Address: <input type="text" id="firmAddress" value="Patan, Sikar"></label>
  <label>RST No: <input type="text" id="rstNo" value="1012"></label>
  <label>Vehicle No: <input type="text" id="vehicleNo" value="RJ32GE0903"></label>
  <label>Vehicle Type: <input type="text" id="vehicleType"></label>
  <label>Party Name: <input type="text" id="partyName"></label>
  <label>Address: <input type="text" id="address"></label>
  <label>Item: <input type="text" id="item" value="20MM"></label>
  <label>Gross Weight: <input type="text" id="gross" value="70680 Kg"></label>
  <label>Gross Date: <input type="text" id="grossDate" value="29/07/2025"></label>
  <label>Gross Time: <input type="text" id="grossTime" value="20:20"></label>
  <label>Tare Weight: <input type="text" id="tare" value="15700 Kg"></label>
  <label>Tare Date: <input type="text" id="tareDate" value="29/07/2025"></label>
  <label>Tare Time: <input type="text" id="tareTime" value="20:20"></label>
  <label>Net Weight: <input type="text" id="net" value="54980 Kg"></label>
  <label>Charges: <input type="text" id="charges" value="0"></label>
  <label>Phone: <input type="text" id="phone" value="123456"></label>
  <button onclick="generateSlip()">Print Slip</button>
</div>

<div id="slipOutput">
  <pre id="slipPre"></pre>
</div>

<script>
function padCenter(text, width) {
  const left = Math.floor((width - text.length)/2);
  const right = width - text.length - left;
  return ' '.repeat(left) + text + ' '.repeat(right);
}

function generateSlip() {
  const width = 80;
  const firmName = document.getElementById("firmName").value;
  const firmAddress = document.getElementById("firmAddress").value;
  const rstNo = document.getElementById("rstNo").value;
  const vehicleNo = document.getElementById("vehicleNo").value;
  const vehicleType = document.getElementById("vehicleType").value;
  const partyName = document.getElementById("partyName").value;
  const address = document.getElementById("address").value;
  const item = document.getElementById("item").value;
  const gross = document.getElementById("gross").value;
  const grossDate = document.getElementById("grossDate").value;
  const grossTime = document.getElementById("grossTime").value;
  const tare = document.getElementById("tare").value;
  const tareDate = document.getElementById("tareDate").value;
  const tareTime = document.getElementById("tareTime").value;
  const net = document.getElementById("net").value;
  const charges = document.getElementById("charges").value;
  const phone = document.getElementById("phone").value;

  let slip = '';
  slip += padCenter(firmName, width) + '\n';
  slip += padCenter(firmAddress, width) + '\n';
  slip += '.'.repeat(width) + '\n';
  slip += `RST No.     : ${rstNo}`.padEnd(40) + `Vehicle No.   : ${vehicleNo}` + '\n';
  slip += `Vehicle Type: ${vehicleType}`.padEnd(40) + `Party Name    : ${partyName}` + '\n';
  slip += `Address     : ${address}`.padEnd(40) + `Item          : ${item}` + '\n';
  slip += '.'.repeat(width) + '\n';
  slip += `Gross : ${gross}`.padEnd(25) + ` Date: ${grossDate}`.padEnd(20) + ` Time: ${grossTime}` + '\n';
  slip += `Tare  : ${tare}`.padEnd(25) + ` Date: ${tareDate}`.padEnd(20) + ` Time: ${tareTime}` + '\n';
  slip += `Net   : ${net}` + '\n';
  slip += '.'.repeat(width) + '\n';
  slip += `Charges    : Rs ${charges}` + '\n';
  slip += '.'.repeat(width) + '\n';
  slip += `Phone : ${phone}`.padStart(60) + '\n';
  slip += padCenter('Thanks for your visit', width) + '\n';

  document.getElementById("slipPre").textContent = slip;
  document.getElementById("slipOutput").style.display = "block";

  window.print();
}
</script>

</body>
</html>
